{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect } from \"react\";\nfunction usePopupCloser(isOpen, closeFunction) {\n  _s();\n  useEffect(() => {\n    function handleEscClose(event) {\n      if (event.key === \"Escape\") {\n        closeFunction();\n      }\n    }\n    function handleOverlayClick(event) {\n      if (event.target.classList.contains(\"popup_opened\")) {\n        closeFunction();\n      }\n    }\n    if (isOpen) {\n      document.addEventListener(\"keydown\", handleEscClose);\n      document.addEventListener(\"mousedown\", handleOverlayClick);\n    }\n    return () => {\n      document.removeEventListener(\"keydown\", handleEscClose);\n      document.removeEventListener(\"mousedown\", handleOverlayClick);\n    };\n  }, [isOpen, closeFunction]);\n}\n_s(usePopupCloser, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\nexport default usePopupCloser;","map":{"version":3,"names":["useEffect","usePopupCloser","isOpen","closeFunction","_s","handleEscClose","event","key","handleOverlayClick","target","classList","contains","document","addEventListener","removeEventListener"],"sources":["C:/Users/Mihail/dev/mesto-react-auth/src/utils/hooks/usePopupCloser.js"],"sourcesContent":["import { useEffect } from \"react\";\r\n\r\nfunction usePopupCloser(isOpen, closeFunction) {\r\n  useEffect(() => {\r\n    function handleEscClose(event) {\r\n      if (event.key === \"Escape\") {\r\n        closeFunction();\r\n      }\r\n    }\r\n\r\n    function handleOverlayClick(event) {\r\n      if (event.target.classList.contains(\"popup_opened\")) {\r\n        closeFunction();\r\n      }\r\n    }\r\n\r\n    if (isOpen) {\r\n      document.addEventListener(\"keydown\", handleEscClose);\r\n      document.addEventListener(\"mousedown\", handleOverlayClick);\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", handleEscClose);\r\n      document.removeEventListener(\"mousedown\", handleOverlayClick);\r\n    };\r\n  }, [isOpen, closeFunction]);\r\n}\r\n\r\nexport default usePopupCloser;\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,OAAO;AAEjC,SAASC,cAAcA,CAACC,MAAM,EAAEC,aAAa,EAAE;EAAAC,EAAA;EAC7CJ,SAAS,CAAC,MAAM;IACd,SAASK,cAAcA,CAACC,KAAK,EAAE;MAC7B,IAAIA,KAAK,CAACC,GAAG,KAAK,QAAQ,EAAE;QAC1BJ,aAAa,CAAC,CAAC;MACjB;IACF;IAEA,SAASK,kBAAkBA,CAACF,KAAK,EAAE;MACjC,IAAIA,KAAK,CAACG,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,cAAc,CAAC,EAAE;QACnDR,aAAa,CAAC,CAAC;MACjB;IACF;IAEA,IAAID,MAAM,EAAE;MACVU,QAAQ,CAACC,gBAAgB,CAAC,SAAS,EAAER,cAAc,CAAC;MACpDO,QAAQ,CAACC,gBAAgB,CAAC,WAAW,EAAEL,kBAAkB,CAAC;IAC5D;IAEA,OAAO,MAAM;MACXI,QAAQ,CAACE,mBAAmB,CAAC,SAAS,EAAET,cAAc,CAAC;MACvDO,QAAQ,CAACE,mBAAmB,CAAC,WAAW,EAAEN,kBAAkB,CAAC;IAC/D,CAAC;EACH,CAAC,EAAE,CAACN,MAAM,EAAEC,aAAa,CAAC,CAAC;AAC7B;AAACC,EAAA,CAxBQH,cAAc;AA0BvB,eAAeA,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}