{"ast":null,"code":"import PopupWithForm from\"../PopupWithForm/PopupWithForm\";import{useRef}from\"react\";import useFormValidate from\"../../utils/hooks/useFormValidate\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function EditAvatarPopup(_ref){let{isOpen,onClose,onUpdateAvatar,isLoadingPopup}=_ref;const input=useRef();const{formValues,errors,isFormValid,isInputValid,handleChange,resetForm}=useFormValidate();function handleClosePopupResetForm(){onClose();resetForm();}function handleSubmit(evt){evt.preventDefault();onUpdateAvatar({avatar:input.current.value},resetForm);}const inputErrorClass=input=>input in isInputValid&&!isInputValid[input]?\"form__input_type_error\":\"\";return/*#__PURE__*/_jsx(PopupWithForm,{name:\"edit-avatar\",title:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",titleBtn:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",isOpen:isOpen,onClose:handleClosePopupResetForm,isFormValid:isFormValid,onSubmit:handleSubmit,isLoadingPopup:isLoadingPopup,children:/*#__PURE__*/_jsxs(\"label\",{className:\"form__label\",htmlFor:\"avatar\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"avatar\",className:\"form__input form__input_type_avatar-link \".concat(inputErrorClass(\"avatar\")),name:\"avatar\",type:\"url\",required:true,placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\",ref:input,value:formValues.avatar||\"\",disabled:isLoadingPopup,onChange:handleChange}),/*#__PURE__*/_jsx(\"span\",{className:\"form__span-error avatar-error\",children:errors.avatar})]})});}","map":{"version":3,"names":["PopupWithForm","useRef","useFormValidate","jsx","_jsx","jsxs","_jsxs","EditAvatarPopup","_ref","isOpen","onClose","onUpdateAvatar","isLoadingPopup","input","formValues","errors","isFormValid","isInputValid","handleChange","resetForm","handleClosePopupResetForm","handleSubmit","evt","preventDefault","avatar","current","value","inputErrorClass","name","title","titleBtn","onSubmit","children","className","htmlFor","id","concat","type","required","placeholder","ref","disabled","onChange"],"sources":["C:/Users/Mihail/dev/react-mesto-auth/src/components/EditAvatarPopup/EditAvatarPopup.jsx"],"sourcesContent":["import PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\nimport { useRef } from \"react\";\r\nimport useFormValidate from \"../../utils/hooks/useFormValidate\";\r\n\r\nexport default function EditAvatarPopup({\r\n  isOpen,\r\n  onClose,\r\n  onUpdateAvatar,\r\n  isLoadingPopup,\r\n}) {\r\n  const input = useRef();\r\n\r\n  const {\r\n    formValues,\r\n    errors,\r\n    isFormValid,\r\n    isInputValid,\r\n    handleChange,\r\n    resetForm,\r\n  } = useFormValidate();\r\n\r\n\r\n  function handleClosePopupResetForm() {\r\n    onClose();\r\n    resetForm();\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onUpdateAvatar({ avatar: input.current.value }, resetForm);\r\n  }\r\n\r\n  const inputErrorClass = (input) =>\r\n    input in isInputValid && !isInputValid[input]\r\n      ? \"form__input_type_error\"\r\n      : \"\";\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit-avatar\"\r\n      title=\"Обновить аватар\"\r\n      titleBtn=\"Сохранить\"\r\n      isOpen={isOpen}\r\n      onClose={handleClosePopupResetForm}\r\n      isFormValid={isFormValid}\r\n      onSubmit={handleSubmit}\r\n      isLoadingPopup={isLoadingPopup}\r\n    >\r\n      <label className=\"form__label\" htmlFor=\"avatar\">\r\n        <input\r\n          id=\"avatar\"\r\n          className={`form__input form__input_type_avatar-link ${inputErrorClass(\r\n            \"avatar\"\r\n          )}`}\r\n          name=\"avatar\"\r\n          type=\"url\"\r\n          required\r\n          placeholder=\"Ссылка на картинку\"\r\n          ref={input}\r\n          value={formValues.avatar || \"\"}\r\n          disabled={isLoadingPopup}\r\n          onChange={handleChange}\r\n        />\r\n        <span className=\"form__span-error avatar-error\">{errors.avatar}</span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,aAAa,KAAM,gCAAgC,CAC1D,OAASC,MAAM,KAAQ,OAAO,CAC9B,MAAO,CAAAC,eAAe,KAAM,mCAAmC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEhE,cAAe,SAAS,CAAAC,eAAeA,CAAAC,IAAA,CAKpC,IALqC,CACtCC,MAAM,CACNC,OAAO,CACPC,cAAc,CACdC,cACF,CAAC,CAAAJ,IAAA,CACC,KAAM,CAAAK,KAAK,CAAGZ,MAAM,CAAC,CAAC,CAEtB,KAAM,CACJa,UAAU,CACVC,MAAM,CACNC,WAAW,CACXC,YAAY,CACZC,YAAY,CACZC,SACF,CAAC,CAAGjB,eAAe,CAAC,CAAC,CAGrB,QAAS,CAAAkB,yBAAyBA,CAAA,CAAG,CACnCV,OAAO,CAAC,CAAC,CACTS,SAAS,CAAC,CAAC,CACb,CAEA,QAAS,CAAAE,YAAYA,CAACC,GAAG,CAAE,CACzBA,GAAG,CAACC,cAAc,CAAC,CAAC,CACpBZ,cAAc,CAAC,CAAEa,MAAM,CAAEX,KAAK,CAACY,OAAO,CAACC,KAAM,CAAC,CAAEP,SAAS,CAAC,CAC5D,CAEA,KAAM,CAAAQ,eAAe,CAAId,KAAK,EAC5BA,KAAK,GAAI,CAAAI,YAAY,EAAI,CAACA,YAAY,CAACJ,KAAK,CAAC,CACzC,wBAAwB,CACxB,EAAE,CAER,mBACET,IAAA,CAACJ,aAAa,EACZ4B,IAAI,CAAC,aAAa,CAClBC,KAAK,CAAC,uFAAiB,CACvBC,QAAQ,CAAC,wDAAW,CACpBrB,MAAM,CAAEA,MAAO,CACfC,OAAO,CAAEU,yBAA0B,CACnCJ,WAAW,CAAEA,WAAY,CACzBe,QAAQ,CAAEV,YAAa,CACvBT,cAAc,CAAEA,cAAe,CAAAoB,QAAA,cAE/B1B,KAAA,UAAO2B,SAAS,CAAC,aAAa,CAACC,OAAO,CAAC,QAAQ,CAAAF,QAAA,eAC7C5B,IAAA,UACE+B,EAAE,CAAC,QAAQ,CACXF,SAAS,6CAAAG,MAAA,CAA8CT,eAAe,CACpE,QACF,CAAC,CAAG,CACJC,IAAI,CAAC,QAAQ,CACbS,IAAI,CAAC,KAAK,CACVC,QAAQ,MACRC,WAAW,CAAC,oGAAoB,CAChCC,GAAG,CAAE3B,KAAM,CACXa,KAAK,CAAEZ,UAAU,CAACU,MAAM,EAAI,EAAG,CAC/BiB,QAAQ,CAAE7B,cAAe,CACzB8B,QAAQ,CAAExB,YAAa,CACxB,CAAC,cACFd,IAAA,SAAM6B,SAAS,CAAC,+BAA+B,CAAAD,QAAA,CAAEjB,MAAM,CAACS,MAAM,CAAO,CAAC,EACjE,CAAC,CACK,CAAC,CAEpB"},"metadata":{},"sourceType":"module","externalDependencies":[]}